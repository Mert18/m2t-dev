---
title: "Making A Photo Gallery in Next.js With CSS Grid"
description: "Digging into CSS Grid and Next.js Image component."
date: "July 24, 2021"
publishedAt: "1627158560"
layout: "post"
---

## Introduction

Nextjs Image component is a powerful one but using it may not be comfortable
as HTML img element. In this blog post, you are going to learn how to make an
image gallery using Next.js power and CSS grid.

## Final Project

<img src="/images/posts/image-grid/image-grid.gif" width="100%" />

## TLDR

[Github Repository](https://github.com/Mert18/nextjs-image-gallery)

[Demo](https://nextjs-image-gallery-chi.vercel.app)

## CSS Grid Introduction

CSS Grid is basically the idea splitting page into multiple parts and
embedding components into these pieces. All properties of the grid layout can
be found <span>[**here**](https://css-tricks.com/snippets/css/complete-guide-grid/)</span>. I definitely recommend it. But today, I am going to talk about the
part we interested in. There are a few properties we are going to use;

### grid-template-columns, grid-template-rows

As you may understand from its name, It basically means splitting the area
with columns or rows. There can be two types of usage;

```css
grid-template-columns: 1fr 1fr 1fr;
```

Here, 1fr means fraction. So you are basically splitting the columns into
three parts that are equal to each other. You can also give px sizes like
grid-template-columns: 50px 1fr 1fr 50px;

```css
grid-template-columns: repeat(24, 1fr);
```

The method above may not be useful if we want to divide with big numbers.
Repeat keyword makes it easier for us. Here, we divide the page into 24 equal
fractions.

### column-gap, row-gap

This keywords helps us to give spaces between grid components. Nothing much.

### Next.js Images

Next.js Image component offers many advantages. It automatically optimizes
your images, It is lazy-loaded and reduces load times significantly. If you
are using Next.js, you should be using this for images. You can find further
information about the Image component in <span>[NextJS Image Docs](https://nextjs.org/docs/api-reference/next/image)</span>

It has many useful properties but two of them are crucial for us.

### layout

Layout property is instrinsic by default. It makes the images resize as the
viewport size changes. What we want in our project is, stretching images to
width and height in their parents. So we are going to use fill.

### objectFit

objectFit property is generally used with layout-fill. It has the same
functionality with CSS object-fit. You can see different variations in <span>[Mozilla CDN Docs](https://developer.mozilla.org/en-US/docs/Web/CSS/object-fit)</span>. We are going to use cover
since it fills the parent div and does not reduce the quality.

So far our image component looks like this;

```javascript
<Image src="..." alt="..." layout="fill" objectFit="cover" />
```

Next.js Image component requires width and height properties by default. But
If we use layout=fill and objectFit=cover properties, It does not. Image will
not be showing up properly at this point but do not worry, there is one step
remaining. As we mentioned before, layout=fill property references to its
parent element and It acts like CSS absolute positioning. So we need to wrap
our image component and give relative positioning to its parent element.

```javascript
<div className={classes.parent}>
  <Image
    placeholder="blur"
    src={img}
    alt={title}
    layout="fill"
    objectFit="cover"
  />
</div>
```

```css
.parent {
  position: relative;
  height: 100%;
  width: 100%;
}
```

So that is the idea. Examples behind, we are ready to get started.

## Making The Project

After I created my Nextjs app with npx create-next-app, uploaded my images to
"public/images/" folder and I create my Image tags in home page main section.

```javascript
<main className={styles.main}>
  <div>
    <Image
      src="/images/white.jpg"
      alt="white"
      layout="fill"
      objectFit="cover"
    />
  </div>

  <div>
    <Image src="/images/sky.jpg" alt="sky" layout="fill" objectFit="cover" />
  </div>

  <div>
    <Image
      src="/images/sunflower.jpg"
      alt="sunflower"
      layout="fill"
      objectFit="cover"
    />
  </div>

  <div>
    <Image src="/images/green.jpg" alt="leaf" layout="fill" objectFit="cover" />
  </div>

  <div>
    <Image
      src="/images/mount.jpg"
      alt="mountain"
      layout="fill"
      objectFit="cover"
    />
  </div>

  <div>
    <Image
      src="/images/mount2.jpg"
      alt="trees and mountain"
      layout="fill"
      objectFit="cover"
    />
  </div>
</main>
```

Now, we need to give some styling to it. So we are giving a few class names
for every element.

```javascript
<main className={styles.main}>
  <div className={`${styles.img} ${styles.w2} ${styles.h12}`}>
    <Image
      src="/images/white.jpg"
      alt="white"
      layout="fill"
      objectFit="cover"
    />
  </div>
  <div className={`${styles.img} ${styles.w6} ${styles.h4}`}>
    <Image src="/images/sky.jpg" alt="sky" layout="fill" objectFit="cover" />
  </div>
  <div className={`${styles.img} ${styles.w4} ${styles.h4}`}>
    <Image
      src="/images/sunflower.jpg"
      alt="sunflower"
      layout="fill"
      objectFit="cover"
    />
  </div>
  <div className={`${styles.img} ${styles.w4} ${styles.h8}`}>
    <Image src="/images/green.jpg" alt="leaf" layout="fill" objectFit="cover" />
  </div>
  <div className={`${styles.img} ${styles.w6} ${styles.h12}`}>
    <Image
      src="/images/mount.jpg"
      alt="mountain"
      layout="fill"
      objectFit="cover"
    />
  </div>
  <div className={`${styles.img} ${styles.w6} ${styles.h12}`}>
    <Image
      src="/images/mount2.jpg"
      alt="trees and mountain"
      layout="fill"
      objectFit="cover"
    />
  </div>
</main>
```

Here, we have img class to be applied every element. W and h are representing
width and height of every element. We have not defined them yet, but this may
give a hint about what we are doing.

Imagine we split our design into 12 and 24 fractions with

grid-template-columns: repeat(12,1fr) and

grid-template-rows: repeat(24, 1fr).

Considering the order of images, we will be giving width and height to every image and fit them into the design.

So how the CSS will look like?

```css
.main {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  grid-template-rows: repeat(24, 1fr);
  column-gap: 15px;
  row-gap: 15px;
  min-height: 140vh;
  margin: 2rem;
}

.img {
  position: relative;
  width: 100%;
  height: 100%;
}

.w2 {
  grid-column: span 2;
}
.w4 {
  grid-column: span 4;
}
.w6 {
  grid-column: span 6;
}
.w8 {
  grid-column: span 8;
}
.w12 {
  grid-column: span 12;
}

.h2 {
  grid-row: span 2;
}
.h4 {
  grid-row: span 4;
}
.h6 {
  grid-row: span 6;
}
.h8 {
  grid-row: span 8;
}
.h12 {
  grid-row: span 12;
}
```

Span keyword basically means, take the next `x` available fraction, If there
is not, go to next line. Placing images to next line may crack our design. In
order to avoid that, we will be giving w and h properties to images carefully.

Of course, you can add more images or give it a completely new look.

<img src="/images/posts/image-grid/image-grid.gif" width="100%" />
